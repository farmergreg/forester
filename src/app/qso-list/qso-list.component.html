<mat-card>
  <mat-card-title>QSO List</mat-card-title>
  <mat-card-header>
    <kel-qso-search></kel-qso-search>
  </mat-card-header>
  <mat-card-content>
    <table mat-table
           matSort matSortActive="timeOn" matSortDirection="desc" matSortDisableClear
           [dataSource]="dataSource">
      <ng-container matColumnDef="timeOn">
        <th mat-header-cell mat-sort-header start="desc" *matHeaderCellDef>Date/Time</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.timeOn | date : "yyyy-MM-dd HH:mm" : "UTC"}}</td>
      </ng-container>
      <ng-container matColumnDef="contactedCall">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Call</th>
        <td mat-cell class="callsign" *matCellDef="let fbq">{{fbq.qso.contactedStation.stationCall}}</td>
      </ng-container>
      <ng-container matColumnDef="contactedName">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.contactedStation.opName | titlecase}}</td>
      </ng-container>
      <ng-container matColumnDef="band">
        <th mat-header-cell *matHeaderCellDef>Band</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.band}}</td>
      </ng-container>
      <ng-container matColumnDef="freq">
        <th mat-header-cell *matHeaderCellDef>Freq</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.freq | number:'1.3-3'}}</td>
      </ng-container>
      <ng-container matColumnDef="mode">
        <th mat-header-cell *matHeaderCellDef>Mode</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.mode}}</td>
      </ng-container>
      <ng-container matColumnDef="rstSent">
        <th mat-header-cell *matHeaderCellDef>RST S</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.rstSent}}</td>
      </ng-container>
      <ng-container matColumnDef="rstReceived">
        <th mat-header-cell *matHeaderCellDef>RST R</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.rstReceived}}</td>
      </ng-container>
      <ng-container matColumnDef="contactedCity">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>City</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.contactedStation.city | titlecase}}</td>
      </ng-container>
      <ng-container matColumnDef="contactedState">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>State</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.contactedStation.state}}</td>
      </ng-container>
      <ng-container matColumnDef="contactedCountry">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Country</th>
        <td mat-cell *matCellDef="let fbq">{{fbq.qso.contactedStation.country | titlecase}}</td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
      <tr mat-row (click)="openDialog(fbq)" *matRowDef="let fbq; columns: columnsToDisplay"></tr>
    </table>
    <mat-paginator></mat-paginator>
  </mat-card-content>
</mat-card>
